# üè¢ TuPatrimonio - Plataforma de Servicios Legales Digitales

Ecosistema multi-tenant B2C + B2B que digitaliza procesos legales con IA avanzada, detecci√≥n autom√°tica de ubicaci√≥n por pa√≠s y sistema de estilos centralizado.

> **üìä Estado del Proyecto:** Fase 0 en progreso (~85% completado)  
> **üìÖ √öltima actualizaci√≥n:** 10 Noviembre 2025  
> **üìã Ver pendientes:** [`docs/FASE-0-PENDIENTES.md`](docs/FASE-0-PENDIENTES.md)

## üéØ Caracter√≠sticas Principales

- **üåç Detecci√≥n de Pa√≠s Autom√°tica**: Sistema por IP usando Vercel Edge Middleware + selecci√≥n manual
- **üè† B2C**: Usuarios individuales con gesti√≥n personal de documentos  
- **üè¢ B2B**: Empresas con equipos, colaboraci√≥n y gesti√≥n avanzada
- **ü§ñ IA Integrada**: An√°lisis autom√°tico de documentos + asistente legal
- **‚úçÔ∏è Servicios Core**: Firmas electr√≥nicas, verificaci√≥n de identidad, notar√≠a digital
- **üé® Design System**: Sistema dual de colores y estilos centralizados

## üí¨ ADN Y VOZ DE MARCA (ESENCIAL)

> **CR√çTICO**: Todo el contenido, funcionalidad y comunicaci√≥n debe reflejar estos valores fundamentales.

### **WHY - Prop√≥sito**
Brindar **tranquilidad, abundancia y confianza** en las √°reas legal, inmobiliaria y financiera a todos quienes interact√∫an con la empresa.

### **HOW - Diferenciadores Clave**
- **Amigable**: Lenguaje cordial y accesible, sin tecnicismos
- **Confiable**: Transmite seguridad y validez legal en cada interacci√≥n
- **Colaborador**: Enfoque en soluciones para el usuario, no solo proveer servicios
- **Intuitivo**: Explica procesos legales complejos de forma simple y clara
- **Moderno**: Innovador pero NO tecno-c√©ntrico (la tecnolog√≠a es medio, no fin)
- **Eficiente**: R√°pido, √°gil, sin burocracia innecesaria

### **VOZ DE MARCA - Reglas de Redacci√≥n**

#### ‚úÖ **S√ç Hacer:**
- **Cercano y conversacional**: Habla como hablar√≠as con un amigo que conf√≠a en ti
- **Sin tecnicismos**: Debe entenderlo un ni√±o de 10 a√±os
- **Profesional pero alegre**: Serio cuando importa, optimista siempre
- **Emp√°tico**: Reconoce los dolores reales del usuario (miedo, frustraci√≥n, incertidumbre)
- **Transparente y honesto**: Di lo que puedes y no puedes hacer claramente
- **Tutear SIEMPRE**: Usa "t√∫", "tu", "te" en toda la comunicaci√≥n
- **Humano**: Reconoce que somos humanos con errores, pero buscamos soluciones

#### ‚ùå **NO Hacer:**
- Usar jerga legal o t√©cnica sin explicar
- Sonar corporativo, fr√≠o o distante
- Prometer lo que no podemos cumplir
- Complicar lo simple con palabras rebuscadas

### **POSICIONAMIENTO**
> **"La marca que te genera mayor tranquilidad para resolver tus problemas"**

**Palabra clave: TRANQUILIDAD** - Debe ser el hilo conductor en toda la comunicaci√≥n.

**Enfoque emocional**:
- **De**: Miedo ‚Üí Confianza
- **De**: Frustraci√≥n ‚Üí Claridad  
- **De**: Incertidumbre ‚Üí Tranquilidad
- **De**: Complicaci√≥n ‚Üí Simplicidad

### **Ejemplos Pr√°cticos**

#### ‚ùå MAL (Corporativo, fr√≠o, t√©cnico):
```
"Nuestra plataforma proporciona servicios de firma electr√≥nica avanzada 
conforme a la Ley 19.799, con certificaci√≥n notarial y validez jur√≠dica 
plena en el territorio nacional."
```

#### ‚úÖ BIEN (Cercano, simple, emp√°tico):
```
"¬øTe estresa pensar en ir a la notar√≠a? Lo entendemos. Por eso creamos 
algo diferente: firma tus documentos desde tu casa, con el mismo respaldo 
legal que si hubieras ido presencialmente. Sin filas, sin coordinar 
agendas. Solo t√∫, tu celular, y tu tranquilidad."
```

#### ‚ùå MAL (Tecno-c√©ntrico):
```
"Implementamos algoritmos de IA de √∫ltima generaci√≥n para automatizar 
el an√°lisis documental mediante procesamiento de lenguaje natural."
```

#### ‚úÖ BIEN (Enfocado en el beneficio):
```
"Nuestra tecnolog√≠a revisa tu documento autom√°ticamente para que no tengas 
que preocuparte por errores. T√∫ solo necesitas subirlo, y nosotros nos 
encargamos del resto."
```

### **Aplicaci√≥n en C√≥digo**

Cuando escribas contenido en la interfaz, mensajes de error, notificaciones o cualquier texto:

```tsx
// ‚ùå MAL
<p>Error: Autenticaci√≥n fallida. C√≥digo 401.</p>

// ‚úÖ BIEN
<p>Uy, algo sali√≥ mal al iniciar sesi√≥n. ¬øQuieres intentarlo de nuevo? 
Si el problema persiste, escr√≠benos y te ayudamos.</p>

// ‚ùå MAL
<button>Procesar transacci√≥n</button>

// ‚úÖ BIEN  
<button>Firmar Mi Documento</button>

// ‚ùå MAL
<h2>Servicios de validaci√≥n documental digital</h2>

// ‚úÖ BIEN
<h2>Firma tus documentos sin salir de casa</h2>
```

### **Checklist para Nuevas Features**

Antes de crear cualquier contenido, funcionalidad o dise√±o, preg√∫ntate:

1. ‚òëÔ∏è **¬øEsto genera tranquilidad al usuario?**
2. ‚òëÔ∏è **¬øEl lenguaje es cercano y comprensible para todos?**
3. ‚òëÔ∏è **¬øRefleja empat√≠a con el dolor del usuario?**
4. ‚òëÔ∏è **¬øEstamos siendo colaboradores o solo proveedores?**
5. ‚òëÔ∏è **¬øLa soluci√≥n realmente funciona para el problema real?**

**Recuerda**: No buscamos la perfecci√≥n t√©cnica por s√≠ misma. Buscamos que **funcione** y **resuelva el problema real** del usuario.

## üõ†Ô∏è Stack Tecnol√≥gico

### Core Framework
- **Next.js**: 15.5.6 (App Router)
- **React**: 19.1.0
- **TypeScript**: 5.x
- **Node.js**: 20.x recomendado

### UI & Styling
- **Tailwind CSS**: v4 (con @tailwindcss/postcss)
- **Shadcn/UI**: Componentes basados en Radix UI v1.x
- **Iconos**: Lucide React 0.546.0
- **Fuentes**: Outfit (headings), Nunito (body), Josefin Sans (H1)
- **Dark Mode**: next-themes 0.4.6

### Backend & Database
- **Supabase**: 2.75+ (PostgreSQL + Auth + Storage + pgvector)
- **Supabase SSR**: 0.7.0

### Deployment & Infrastructure
- **Vercel**: Hosting con Edge Middleware para geolocalizaci√≥n
- **PWA**: Progressive Web App con service workers

### IA & Advanced Features
- **Anthropic Claude**: An√°lisis de documentos
- **OpenAI**: Asistente legal

### Development Tools
- **ESLint**: 9.x
- **Supabase CLI**: 2.53.6+
- **Sharp**: 0.33.5 (generaci√≥n de iconos PWA)

## üìÅ Estructura del Proyecto

```
tupatrimonio-app/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ marketing/          # Marketing site (puerto 3001)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/app/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cl/         # P√°ginas espec√≠ficas Chile
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mx/         # P√°ginas espec√≠ficas M√©xico  
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ co/         # P√°ginas espec√≠ficas Colombia
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [service]/  # Landing pages gen√©ricas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ web/               # Aplicaci√≥n principal (puerto 3000)
‚îÇ       ‚îú‚îÄ‚îÄ src/app/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ auth/
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ packages/              # C√≥digo compartido
‚îÇ   ‚îú‚îÄ‚îÄ location/         # Sistema de detecci√≥n ubicaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ ui/              # Estilos y componentes centralizados
‚îî‚îÄ‚îÄ supabase/           # Configuraci√≥n backend
    ‚îî‚îÄ‚îÄ migrations/
```

## üåç Sistema de Detecci√≥n de Ubicaci√≥n

### Pa√≠ses Soportados
| Pa√≠s | C√≥digo | Moneda | Estado | URL |
|------|--------|--------|---------|-----|
| Chile | `cl` | CLP | ‚úÖ Activo | `/cl/firmas-electronicas` |
| M√©xico | `mx` | MXN | üöß Pr√≥ximamente | `/mx/firmas-electronicas` |
| Colombia | `co` | COP | üöß Pr√≥ximamente | `/co/firmas-electronicas` |

### Flujo de Detecci√≥n
1. **Usuario visita** `/firmas-electronicas`
2. **Vercel Edge Middleware** detecta pa√≠s por IP ‚Üí redirect a `/cl/firmas-electronicas`
3. **Fallback** a detecci√≥n por navegador si falla Edge Middleware
4. **Selector manual** disponible para cambiar pa√≠s
5. **Confirmaci√≥n** antes de navegar entre p√°ginas de pa√≠ses

### Configuraci√≥n
```typescript
// Usar en componentes
import { useLocation, CountrySelector } from 'packages/location/src';

const { country, countryInfo, formatCurrency } = useLocation();
```

## üé® Sistema de Colores

### Paleta Dual Implementada
```css
/* Botones funcionales (neutros) */
--tp-buttons: #404040;           /* Gris oscuro */
--tp-buttons-hover: #555555;     /* Gris claro hover */

/* Elementos de marca (identidad) */
--tp-brand: #800039;             /* Vino corporativo */
--tp-brand-light: #a50049;       /* Vino claro */
--tp-brand-dark: #600028;        /* Vino oscuro */

/* Variaciones con opacidad disponibles */
--tp-buttons-5: #4040400d;       /* 5% opacity */
--tp-brand-10: #8000391a;        /* 10% opacity */
```

### Uso Recomendado
- **Color de Marca (Vino)**: Nombres "TuPatrimonio", t√≠tulos de servicios, iconos destacados
- **Color Funcional (Gris)**: Botones de acci√≥n, navegaci√≥n, controles de UI

## üé® Directrices de Dise√±o

### Sistema Dual de Colores

**Importante**: Usamos DOS paletas distintas para diferentes prop√≥sitos:

#### üîò Color Funcional (Grises) - Para UI Interactiva
```css
--tp-buttons: #404040         /* Botones, controles */
--tp-buttons-hover: #555555   /* Hover states */
```

**Cu√°ndo usar**: 
- Botones de acci√≥n (CTAs, formularios)
- Navegaci√≥n y men√∫s
- Controles de UI y elementos interactivos
- Todo lo que requiere interacci√≥n del usuario

**Ejemplo**:
```tsx
<button className="bg-tp-primary hover:bg-tp-primary-hover text-white px-6 py-3 rounded-xl">
  Enviar Formulario
</button>
```

#### üç∑ Color de Marca (Vino) - Para Identidad
```css
--tp-brand: #800039          /* Marca principal */
--tp-brand-light: #a50049    /* Variante clara */
--tp-brand-dark: #600028     /* Variante oscura */
```

**Cu√°ndo usar**:
- Logo y nombre "TuPatrimonio"
- T√≠tulos de secciones principales
- Iconos destacados y elementos de marca
- Acentos visuales importantes

**Ejemplo**:
```tsx
<h1 className="text-[var(--tp-brand)]">
  TuPatrimonio
</h1>
```

### Dark Mode

El proyecto soporta dark mode autom√°tico usando `next-themes`:

```tsx
// Ya configurado en ambas apps
// Configurado en tailwind.config.ts
darkMode: ["class"]

// Uso en componentes - se adapta autom√°ticamente
<div className="bg-background text-foreground">
  <Card className="bg-card text-card-foreground">
    {/* Colores se ajustan seg√∫n el tema */}
  </Card>
</div>
```

**Comportamiento**:
- Las variables CSS se ajustan autom√°ticamente en modo oscuro
- Ver `packages/ui/globals.css` l√≠neas 276-405 para valores dark mode
- Los componentes Shadcn/UI respetan el tema autom√°ticamente
- Usa las variables de Shadcn (`bg-background`, `text-foreground`) para elementos que deben adaptarse

### Componentes Shadcn/UI

Todos los componentes UI est√°n basados en **Shadcn/UI** con personalizaci√≥n TuPatrimonio:

**Ubicaci√≥n de componentes**:
```
apps/marketing/src/components/ui/
apps/web/src/components/ui/
```

**Componentes principales disponibles**:
- `Card`: Contenedores con `rounded-xl`, `shadow-sm`, `border`
- `Button`: Variantes con colores del sistema
- `Dialog`: Modales y di√°logos
- `Popover`: Tooltips y popovers
- `Select`: Selectores personalizados
- `Checkbox`, `Switch`, `Label`: Controles de formulario
- `Separator`: Divisores de secci√≥n
- `Tabs`: Navegaci√≥n por pesta√±as

**Documentaci√≥n**: https://ui.shadcn.com/docs/components

### Componentes Personalizados TuPatrimonio

**Componentes reutilizables creados para el proyecto**:

- `StatsSection`: Secci√≥n de estad√≠sticas con contenido predefinido
  - **Uso s√∫per simple**: `<StatsSection />` o `<StatsSection variant="notaria" />`
  - **Zero configuraci√≥n**: Contenido, iconos y datos incluidos
  - **Variantes disponibles**: `default`, `nosotros`, `notaria`, `firmas`
  - **P√°ginas usando**: Home, Nosotros, Notar√≠a Online
  - Documentaci√≥n: `docs/STATS-SECTION-COMPONENT.md`

### Iconos Minimalistas

Usamos **Lucide React** con estilo consistente y minimalista:

```tsx
import { Check, ArrowRight, User, FileText, Shield } from "lucide-react";

// Iconos en componentes
<Check className="w-5 h-5 text-tp-brand" />
<ArrowRight className="w-4 h-4" />
<Shield className="w-6 h-6 text-[var(--tp-brand)]" />
```

**Convenciones de tama√±o**:
- `w-4 h-4` (16px): Iconos peque√±os, inline con texto
- `w-5 h-5` (20px): Tama√±o est√°ndar, mayor√≠a de casos
- `w-6 h-6` (24px): Iconos destacados, t√≠tulos
- `w-8 h-8` (32px): Iconos grandes, hero sections

**Estilo**:
- Stroke weight: 2 (default de Lucide)
- Estilo: Simple, limpio, sin relleno
- Consistencia: Todos los iconos de la misma familia

### Tipograf√≠a

El sistema usa tres fuentes con jerarqu√≠a clara:

```typescript
// Definido en packages/ui/globals.css
--font-h1: Josefin Sans     // Solo para H1
--font-h2-h6: Outfit        // Headings H2-H6
--font-body: Nunito         // Todo el texto body
```

**Uso autom√°tico**: Los estilos se aplican autom√°ticamente a las etiquetas HTML:

```tsx
// No necesitas agregar clases de fuente
<h1>Se aplica Josefin Sans autom√°ticamente</h1>
<h2>Se aplica Outfit autom√°ticamente</h2>
<h3>Se aplica Outfit autom√°ticamente</h3>
<p>Se aplica Nunito autom√°ticamente</p>
```

**Responsive**: Los tama√±os son mobile-first y se ajustan autom√°ticamente:
- Mobile: Tama√±os base
- Tablet (768px+): Tama√±os medianos
- Desktop (1024px+): Tama√±os grandes

Ver `packages/ui/TYPOGRAPHY-GUIDE.md` para m√°s detalles.

### Tarjetas (Cards)

Estilo est√°ndar consistente en todo el proyecto:

```tsx
import { 
  Card, 
  CardHeader, 
  CardTitle, 
  CardDescription, 
  CardContent,
  CardFooter 
} from "@/components/ui/card";

<Card>
  <CardHeader>
    <CardTitle>T√≠tulo de la tarjeta</CardTitle>
    <CardDescription>Descripci√≥n breve del contenido</CardDescription>
  </CardHeader>
  <CardContent>
    {/* Contenido principal */}
  </CardContent>
  <CardFooter>
    {/* Acciones o informaci√≥n adicional */}
  </CardFooter>
</Card>
```

**Caracter√≠sticas predeterminadas**:
- Border radius: `rounded-xl` (12px)
- Shadow: `shadow-sm` (sutil)
- Border: `border` (se adapta a light/dark)
- Padding: `py-6 px-6` (24px vertical y horizontal)
- Gap interno: `gap-6` (24px entre elementos)
- Background: `bg-card` (se adapta a tema)

## üéØ Patrones de Dise√±o de Componentes

### Sistema de √çconos Minimalista

Usamos el paquete `@tupatrimonio/ui` que exporta componentes `Icon` e `IconContainer` para mantener consistencia:

#### Icon - √çconos sin contenedor

```tsx
import { Icon } from '@tupatrimonio/ui';
import { CheckCircle, Shield, Zap } from 'lucide-react';

// Tama√±os est√°ndar
<Icon icon={CheckCircle} size="sm" />   // 16px
<Icon icon={Shield} size="md" />        // 20px  
<Icon icon={Zap} size="lg" />           // 24px
<Icon icon={Users} size="xl" />         // 32px

// Variantes de color
<Icon icon={CheckCircle} size="md" variant="brand" />     // Color de marca
<Icon icon={Shield} size="md" variant="muted" />          // Color apagado
<Icon icon={Zap} size="md" variant="white" />             // Blanco
<Icon icon={Lock} size="md" className="text-green-600" /> // Custom
```

**Caracter√≠sticas**:
- `strokeWidth: 1.5` por defecto (l√≠neas delgadas y minimalistas)
- Se adapta autom√°ticamente al modo dark/light
- Consistente en toda la aplicaci√≥n

#### IconContainer - √çconos con fondo

```tsx
import { IconContainer } from '@tupatrimonio/ui';

// Variantes de fondo
<IconContainer 
  icon={Bell} 
  variant="brand"        // Fondo suave de marca
  shape="rounded"        // rounded-xl
  size="lg"              // 56px contenedor
/>

<IconContainer 
  icon={CheckCircle} 
  variant="solid-brand"  // Fondo s√≥lido de marca
  shape="circle"         // rounded-full
  size="md"              // 48px contenedor
/>

// Con animaci√≥n hover
<div className="group">
  <div className="group-hover:scale-110 transition-transform">
    <IconContainer icon={Sparkles} variant="brand" shape="rounded" size="lg" />
  </div>
</div>
```

**Variantes disponibles**:
- `brand`: Fondo suave con borde (`bg-[var(--tp-brand-10)]`)
- `solid-brand`: Fondo s√≥lido de marca (`bg-[var(--tp-brand)]`)
- `muted`: Fondo neutral
- `neutral`: Fondo background

**Formas**:
- `circle`: `rounded-full` - Para badges o elementos destacados
- `rounded`: `rounded-xl` - Est√°ndar para features
- `square`: `rounded-none` - Para casos especiales

### Cards con Efectos Hover Consistentes

Patr√≥n est√°ndar para cards de features/beneficios:

```tsx
<Card className="border-2 border-border hover:border-[var(--tp-brand)] hover:shadow-xl transition-all group">
  <CardHeader>
    <div className="mb-4 group-hover:scale-110 transition-transform">
      <IconContainer 
        icon={Zap} 
        variant="brand" 
        shape="rounded" 
        size="lg"
      />
    </div>
    <CardTitle>T√≠tulo del Feature</CardTitle>
    <CardDescription>
      Descripci√≥n breve y clara del beneficio
    </CardDescription>
  </CardHeader>
</Card>
```

**Elementos clave**:
- `border-2 border-border`: Borde neutral por defecto
- `hover:border-[var(--tp-brand)]`: Borde de marca en hover
- `hover:shadow-xl`: Sombra que crece
- `transition-all`: Transiciones suaves
- `group`: Para animar el √≠cono hijo
- `group-hover:scale-110`: √çcono crece 10% en hover

### Modo Dark - Patrones Correctos

#### Fondos de Secci√≥n

```tsx
// ‚úÖ CORRECTO - Se adapta autom√°ticamente
<section className="py-20 bg-background">
<section className="py-20 bg-gradient-to-br from-[var(--tp-background-light)] to-background">

// ‚ùå INCORRECTO - Fijo en light mode
<section className="py-20 bg-white">
<section className="py-20 bg-gray-50">
```

#### Trust Indicators con Background

```tsx
// ‚úÖ CORRECTO - Funciona en ambos modos
<div className="flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-950 rounded-full">
  <Icon icon={CheckCircle} size="sm" className="text-green-600 dark:text-green-400" />
  <span className="text-green-700 dark:text-green-300">Validez Legal</span>
</div>

// ‚ùå INCORRECTO - No se ve bien en dark
<div className="flex items-center gap-2">
  <Icon icon={CheckCircle} size="sm" className="text-green-600" />
  <span className="text-green-700">Validez Legal</span>
</div>
```

**Patr√≥n de colores para dark mode**:
- Backgrounds: `bg-green-50 dark:bg-green-950` (950 para dark)
- Iconos: `text-green-600 dark:text-green-400` (m√°s claro en dark)
- Texto: `text-green-700 dark:text-green-300` (m√°s claro en dark)

#### Cards y Formularios

```tsx
// ‚úÖ CORRECTO - Fondo adaptable
<Card className="border-2 border-[var(--tp-brand)] shadow-2xl bg-card">

// ‚úÖ CORRECTO - Sin gradiente de fondo en CardHeader
<CardHeader className="text-center pt-8">
  {/* Contenido sin bg-gradient */}
</CardHeader>

// ‚ùå INCORRECTO - Gradiente crea franja visual
<CardHeader className="bg-gradient-to-br from-[var(--tp-buttons)]/5">
```

### Secciones CTA con Gradiente Premium

Patr√≥n est√°ndar para secciones de llamado a la acci√≥n:

```tsx
<section className="py-20 bg-gradient-to-br from-[var(--tp-brand)] via-[var(--tp-brand-light)] to-[var(--tp-brand-dark)] relative overflow-hidden">
  {/* Patr√≥n decorativo de fondo */}
  <div className="absolute inset-0 opacity-10">
    <div className="absolute top-0 left-0 w-64 h-64 bg-white rounded-full -translate-x-32 -translate-y-32"></div>
    <div className="absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-48 translate-y-48"></div>
  </div>

  <div className="max-w-4xl tp-container text-center relative z-10">
    <h2 className="text-white mb-6">T√≠tulo del CTA</h2>
    <p className="text-xl text-white/90 mb-10">Descripci√≥n persuasiva</p>
    
    {/* Botones */}
    <div className="flex flex-col sm:flex-row gap-4 justify-center mb-10">
      {/* Bot√≥n primario blanco */}
      <Button 
        size="lg" 
        className="bg-white text-[var(--tp-brand)] hover:bg-gray-100 dark:hover:bg-gray-200 px-10 py-6 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"
      >
        <Icon icon={MapPin} size="md" variant="inherit" className="mr-2" />
        Acci√≥n Principal
      </Button>
      
      {/* Bot√≥n secundario outline */}
      <Button 
        size="lg" 
        variant="ghost"
        className="text-white border-2 border-white hover:bg-white/10 px-10 py-6 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"
      >
        Acci√≥n Secundaria
      </Button>
    </div>
    
    {/* Trust bar */}
    <div className="flex flex-wrap items-center justify-center gap-6 text-white/90 text-sm">
      <div className="flex items-center gap-2">
        <Icon icon={Zap} size="md" variant="white" />
        <span>Beneficio 1</span>
      </div>
      <div className="flex items-center gap-2">
        <Icon icon={Lock} size="md" variant="white" />
        <span>Beneficio 2</span>
      </div>
    </div>
  </div>
</section>
```

**Elementos clave**:
- **Gradiente de 3 colores**: `from-[var(--tp-brand)] via-[var(--tp-brand-light)] to-[var(--tp-brand-dark)]`
- **Patr√≥n decorativo**: C√≠rculos blancos con `opacity-10` para profundidad
- **Z-index**: `relative z-10` en contenido para estar sobre el patr√≥n
- **Bot√≥n primario**: Fondo blanco con texto de marca
- **Bot√≥n secundario**: `variant="ghost"` con borde blanco y hover sutil
- **Trust bar**: √çconos con `variant="white"` y sin separadores

### Botones sobre Fondo de Marca

Patrones correctos para botones sobre fondos de color:

```tsx
// ‚úÖ Bot√≥n primario - Fondo blanco s√≥lido
<Button 
  size="lg" 
  className="bg-white text-[var(--tp-brand)] hover:bg-gray-100 dark:hover:bg-gray-200 px-10 py-6 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"
>
  Acci√≥n Principal
</Button>

// ‚úÖ Bot√≥n secundario - Ghost con borde
<Button 
  size="lg" 
  variant="ghost"
  className="text-white border-2 border-white hover:bg-white/10 px-10 py-6 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"
>
  Acci√≥n Secundaria
</Button>

// ‚ùå EVITAR - Outline no funciona bien
<Button variant="outline" className="border-white text-white hover:bg-white hover:text-[var(--tp-brand)]">
  No usar este patr√≥n
</Button>
```

**Reglas**:
- Sobre fondo de marca: `variant="ghost"` con borde personalizado
- Hover sutil: `hover:bg-white/10` (10% de overlay)
- Mantener texto blanco en hover para legibilidad
- Agregar `dark:hover:bg-gray-200` en botones blancos

### Badges y Trust Indicators

```tsx
// Badge "Pr√≥ximamente" con √≠cono minimalista
<Badge className="bg-[var(--tp-buttons)] dark:bg-[var(--tp-brand)] text-white px-4 py-2 text-base flex items-center gap-2 w-fit mx-auto shadow-lg">
  <Icon icon={Rocket} size="sm" className="text-white" />
  <span>Pr√≥ximamente</span>
</Badge>

// Trust indicators con fondo de color
<div className="flex flex-wrap items-center justify-center gap-6">
  <div className="flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-950 rounded-full">
    <Icon icon={CheckCircle} size="sm" className="text-green-600 dark:text-green-400" />
    <span className="text-green-700 dark:text-green-300">Validez Legal</span>
  </div>
</div>
```

### Espaciado y Jerarqu√≠a Visual

```tsx
// T√≠tulos con espaciado correcto
<h2 className="mb-6">       // 24px margen inferior
<h3 className="mb-4">       // 16px margen inferior

// P√°rrafos descriptivos
<p className="text-xl text-muted-foreground mb-10">  // 40px margen

// Grupos de botones
<div className="flex gap-4 mb-10">  // 16px entre botones, 40px despu√©s

// Trust bars
<div className="flex gap-6">  // 24px entre elementos

// Secciones
<section className="py-20">  // 80px padding vertical
<section className="py-16">  // 64px para secciones menos importantes
```

### Checklist de Implementaci√≥n

Antes de crear un nuevo componente, verifica:

- [ ] **√çconos**: ¬øUsas `Icon` o `IconContainer` de `@tupatrimonio/ui`?
- [ ] **Modo Dark**: ¬øLos fondos usan `bg-background` o `bg-card`?
- [ ] **Trust Indicators**: ¬øTienen fondos adaptativos (`dark:bg-green-950`)?
- [ ] **Cards**: ¬øUsan `hover:border-[var(--tp-brand)]` consistente?
- [ ] **Botones en CTA**: ¬øSiguen el patr√≥n blanco primario + ghost secundario?
- [ ] **Gradientes**: ¬øUsan las 3 variantes de marca?
- [ ] **Espaciado**: ¬øUsan `py-20` para secciones y `mb-6`/`mb-10` para jerarqu√≠a?
- [ ] **Transiciones**: ¬øTodos los hovers tienen `transition-all`?

### Ejemplo Completo - Componente Coming Soon

Ver `apps/marketing/src/components/ComingSoonCountry.tsx` como referencia de implementaci√≥n completa de todos estos patrones.

## üìê Gu√≠a R√°pida de Estilos

### Uso de Variables CSS

Hay dos formas de usar las variables de TuPatrimonio:

#### Opci√≥n 1: Variables CSS directas
Recomendado para valores √∫nicos o personalizados:
```tsx
<button className="bg-[var(--tp-buttons)] hover:bg-[var(--tp-buttons-hover)] text-white">
  Click me
</button>
```

#### Opci√≥n 2: Clases Tailwind extendidas
Recomendado para reutilizaci√≥n y c√≥digo m√°s limpio:
```tsx
<div className="bg-tp-primary hover:bg-tp-primary-hover">
  {/* Usa las clases definidas en tailwind.config.ts */}
</div>
```

Ver todas las clases disponibles en `apps/marketing/tailwind.config.ts` l√≠neas 21-85.

### Ejemplos Pr√°cticos

```tsx
// ‚úÖ Bot√≥n primario (gris funcional)
<button className="bg-tp-primary hover:bg-tp-primary-hover text-white px-6 py-3 rounded-xl transition-colors">
  Acci√≥n Principal
</button>

// ‚úÖ T√≠tulo con color de marca
<h2 className="text-[var(--tp-brand)] font-bold">
  TuPatrimonio
</h2>

// ‚úÖ Card con fondo sutil de marca
<div className="bg-tp-brand-5 border border-tp-brand-20 rounded-xl p-6">
  <p className="text-[var(--tp-brand)]">Contenido destacado</p>
</div>

// ‚úÖ Secci√≥n con gradiente de fondo
<section className="bg-tp-gradient-background py-16">
  <h2>Hero Section</h2>
</section>

// ‚úÖ Card elevada con shadow personalizada
<div className="shadow-tp-lg rounded-tp-xl bg-card p-6">
  <h3>Card con sombra personalizada</h3>
</div>

// ‚úÖ Elemento con backdrop blur (glass morphism)
<div className="backdrop-blur-tp-md bg-white/80 dark:bg-black/80 rounded-xl p-4">
  Efecto cristal
</div>
```

### Espaciado Consistente

Usa las clases de container para mantener padding lateral uniforme:

```tsx
// Container est√°ndar (recomendado para la mayor√≠a de secciones)
<section className="tp-container">
  {/* 
    Padding lateral responsive:
    Mobile: 24px
    Tablet: 32px
    Desktop MD: 48px
    Desktop LG: 64px
    XL: 80px
    2XL: 96px
  */}
</section>

// Container ancho (para secciones especiales que necesitan m√°s espacio)
<section className="tp-container-wide">
  {/* Padding m√°s reducido */}
</section>
```

Definidas en `packages/ui/globals.css` l√≠neas 427-433.

## üöÄ Development Setup

### Instalaci√≥n
```bash
# Instalar dependencias
npm install

# Desarrollo - Marketing app
npm run dev:marketing        # http://localhost:3001

# Desarrollo - Web app  
npm run dev                 # http://localhost:3000

# Build completo
npm run build
```

### Setup PWA (Web App)
```bash
cd apps/web

# 1. Colocar √≠cono base (512x512px)
cp tu-icono.png public/icons/icon-base.png

# 2. Generar √≠conos en todos los tama√±os
npm run generate-icons

# 3. Test PWA en producci√≥n local
npm run pwa:test             # http://localhost:3000
```

Ver gu√≠a completa: `apps/web/QUICK-START-PWA.md`

### Build Scripts
```bash
npm run build:location      # Compilar package location
npm run build:marketing     # Build marketing app
npm run build:web          # Build web app
npm run build              # Build everything
```

## üì¶ Packages Compartidos

### @tupatrimonio/location
Sistema de detecci√≥n de ubicaci√≥n con:
- `LocationManager`: L√≥gica de detecci√≥n h√≠brida
- `useLocation`: Hook React para ambas apps
- `CountrySelector`: Componente UI reutilizable

### @tupatrimonio/ui
Sistema de estilos compartido:
- `globals.css`: Variables CSS centralizadas
- Design system unificado entre apps

## üöÄ Deployment

### Vercel Configuration

El proyecto usa **2 proyectos separados** en Vercel:

#### Marketing App (`tupatrimonio.app`)
- **Root directory**: `apps/marketing`
- **Build command**: `npm run build:marketing`
- **Output directory**: `.next`
- **Edge Middleware**: Auto-redirects por pa√≠s

#### Web App (`app.tupatrimonio.app`)
- **Root directory**: `apps/web`
- **Build command**: `npm run build:web`
- **Output directory**: `.next`
- **PWA**: Instalable y funciona offline

### Variables de Entorno
```bash
# En Vercel Dashboard (ambos proyectos)
NODE_VERSION=20
NEXT_TELEMETRY_DISABLED=1
NEXT_PUBLIC_SUPABASE_URL=tu_url_supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=tu_key_anonima
```

### Verificaci√≥n Post-Deploy
- [ ] Redirects autom√°ticos funcionan (`/firmas-electronicas` ‚Üí `/cl/firmas-electronicas`)
- [ ] Selector de pa√≠s funciona correctamente
- [ ] Colores de marca aplicados en toda la app
- [ ] Dark mode funciona correctamente
- [ ] PWA instalable (solo Web App)

## üõ°Ô∏è Features Principales

### Marketing App (P√∫blico)
- ‚úÖ **Landing pages por pa√≠s** con detecci√≥n autom√°tica
- ‚úÖ **Auto-redirects inteligentes** con countdown cancelable
- ‚úÖ **SEO optimizado** por pa√≠s (metadata espec√≠fica)
- ‚úÖ **Blog integrado** con categor√≠as por pa√≠s y tema
- ‚úÖ **Sistema de colores** coherente en toda la app

### Web App (Dashboard)
- ‚úÖ **Personalizaci√≥n autom√°tica** por pa√≠s (precios, moneda)
- ‚úÖ **Dashboard responsivo** con informaci√≥n localizada
- ‚úÖ **Selector de pa√≠s** en header para cambiar configuraci√≥n
- ‚úÖ **Autenticaci√≥n** integrada con Supabase
- ‚úÖ **Progressive Web App (PWA)** instalable y funciona offline
- ‚úÖ **Actualizaciones autom√°ticas** con notificaci√≥n al usuario

### Funcionalidades Compartidas
- ‚úÖ **Detecci√≥n de ubicaci√≥n** h√≠brida (IP + navegador)
- ‚úÖ **Persistencia** de preferencias en localStorage
- ‚úÖ **Fallbacks m√∫ltiples** para m√°xima compatibilidad
- ‚úÖ **Components reutilizables** entre apps

## üìä Backend (Supabase)

### Schema Principal
```sql
marketing.blog_posts        # Sistema de blog din√°mico
marketing.blog_categories   # Categor√≠as por pa√≠s/tema
marketing.waitlist_subscribers  # Lista de espera por pa√≠s
```

### Edge Functions
```
supabase/functions/         # APIs custom si se necesitan
```

## üîß Comandos √ötiles

```bash
# Development
npm run dev:marketing       # Iniciar marketing site
npm run dev                # Iniciar web app

# Build & Deploy
npm run build              # Build completo 
npm run build:marketing    # Solo marketing
npm run build:web         # Solo web app

# Linting
npm run lint              # Lint todas las apps
```

## üéØ Pr√≥ximos Pasos - Completar Fase 0

### Prioridad 1: Sistema de Autenticaci√≥n (1 semana)
1. **Configurar verificaci√≥n de correo electr√≥nico** en Supabase
2. **Implementar OAuth** (Google + LinkedIn)
3. **Agregar Magic Links** para login sin contrase√±a
4. **Mejorar flujo de onboarding** post-registro
5. **Testing exhaustivo** de todos los flujos

### Prioridad 2: Contenido Real (1-2 semanas)
1. **Migrar contenido** del sitio actual en producci√≥n
2. **Actualizar landing pages** con informaci√≥n definitiva
3. **Migrar posts del blog** existente (10-15 posts)
4. **Crear posts nuevos** (3-4 sobre servicios core)
5. **Optimizar SEO** en todo el sitio

### Una vez completado ‚Üí Iniciar Fase 1 (Backend Foundation)
- Schema credits + billing
- Dashboard h√≠brido B2C/B2B
- RLS policies completas
- Storage buckets adicionales

üìñ **Ver detalles completos:** [`docs/FASE-0-PENDIENTES.md`](docs/FASE-0-PENDIENTES.md)

## üìö Documentaci√≥n Adicional

### Gu√≠as de Configuraci√≥n y Desarrollo
- **Setup detallado**: Ver `docs/DEVELOPMENT.md`
- **Configuraci√≥n Vercel**: Ver `docs/DEPLOYMENT.md` 
- **Decisiones arquitect√≥nicas**: Ver `docs/ARCHITECTURE.md`

### Gu√≠as de Dise√±o y Estilos
- **Sistema de estilos completo**: Ver `packages/ui/globals.css`
- **Variables Tailwind extendidas**: Ver `apps/marketing/tailwind.config.ts`
- **Gu√≠a de tipograf√≠a**: Ver `packages/ui/TYPOGRAPHY-GUIDE.md`
- **Gu√≠a de iconos**: Ver `packages/ui/ICONS-GUIDE.md`
- **Componentes Shadcn/UI**: https://ui.shadcn.com/docs/components

### Referencias de Packages
- **Sistema de ubicaci√≥n**: Ver `packages/location/`
- **Notificaciones de actualizaci√≥n**: Ver `packages/update-notifier/`
- **Utilidades compartidas**: Ver `packages/utils/`

### Archivos Hist√≥ricos
- **Documentaci√≥n archivada**: Ver `docs/archived/`

---

**Proyecto listo para deploy en Vercel** üöÄ

Para soporte: [Crear issue](https://github.com/tupatrimonio/issues) ‚Ä¢ Documentaci√≥n completa en `/docs`